# Configuration de l'apprentissage fédéré
federated_learning:
  # Paramètres généraux
  num_clients: 3
  num_rounds: 50
  min_clients_per_round: 3  # Tous les clients participent
  
  # Stratégie d'agrégation
  aggregation:
    strategy: "FedAvg"  # "FedAvg", "FedProx", "FedOpt"
    
    # Paramètres FedAvg
    fed_avg:
      client_learning_rate: 0.01
      server_learning_rate: 1.0
      
    # Paramètres FedProx (si utilisé)
    fed_prox:
      proximal_mu: 0.1
      
  # Configuration des clients
  clients:
    local_epochs: 5
    local_batch_size: 16
    local_learning_rate: 0.01
    
    # Échantillonnage des clients
    sampling_strategy: "all"  # "all", "random", "weighted"
    sampling_fraction: 1.0
    
  # Sécurité et confidentialité
  privacy:
    # Differential Privacy
    differential_privacy:
      enabled: true
      noise_multiplier: 1.1
      l2_norm_clip: 1.0
      
    # Secure Aggregation
    secure_aggregation:
      enabled: true
      minimum_clients: 3
      
    # Chiffrement homomorphe
    homomorphic_encryption:
      enabled: false
      key_size: 2048

  # Critères d'arrêt
  convergence:
    target_accuracy: 0.95
    patience: 10
    min_improvement: 0.001
    
  # Monitoring
  metrics:
    track_client_metrics: true
    save_round_metrics: true
    
    evaluation_frequency: 5  # Évaluer tous les 5 rounds
    
# Configuration du serveur fédéré
server:
  host: "localhost"
  port: 8080
  
  # Stockage des modèles
  model_storage:
    path: "federated_models/"
    save_frequency: 10
    keep_history: true
    
  # Logging
  logging:
    level: "INFO"
    file: "federated_server.log"
    
# Configuration des clients
client_config:
  # Client 1 (Member 1)
  client_1:
    member_name: "member1"
    data_path: "data/federated/client_1.npz"
    local_model_path: "models/client_1_model.h5"
    
  # Client 2 (Member 2)  
  client_2:
    member_name: "member2"
    data_path: "data/federated/client_2.npz"
    local_model_path: "models/client_2_model.h5"
    
  # Client 3 (Member 3)
  client_3:
    member_name: "member3" 
    data_path: "data/federated/client_3.npz"
    local_model_path: "models/client_3_model.h5"

# Simulation des pannes de réseau
network_simulation:
  enabled: false
  dropout_rate: 0.1  # 10% de chance de panne client
  latency_simulation: false
  bandwidth_limit: null